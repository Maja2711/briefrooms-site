<!doctype html>
<html lang="pl">
<head>
  <!-- hreflang pair -->
  <link rel="alternate" hreflang="pl" href="https://briefrooms.com/pl/zdrowie/cholesterol.html" />
  <link rel="alternate" hreflang="en" href="https://briefrooms.com/en/health/cholesterol.html" />
  <link rel="alternate" hreflang="x-default" href="https://briefrooms.com/" />

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Twój cholesterol i cały lipidogram — praktyczny przewodnik | BriefRooms</title>
  <meta name="description" content="Jak czytać LDL, HDL, triglicerydy, non-HDL-C, Remnant-C/RC, TG/HDL oraz co realnie poprawia wyniki. Praktyczne kroki oparte na ESC/EAS, ACC/AHA, AHA/WHO, EFSA." />
  <link rel="icon" href="/assets/favicon.svg" />
  <link rel="stylesheet" href="/assets/site.css" />
  <link rel="stylesheet" href="/assets/comments.css">
<script>
  // Twój endpoint z Apps Script:
  window.BR_COMMENTS_ENDPOINT = "https://script.google.com/macros/s/AKfycbygH4xWX3T9PTuV4hmZ-_qk0kiXyxKT2crunQwoqdWV-8YsfvxF6Lth3IidvHOm2yo4/exec";
</script>
<script src="/assets/comments.js" defer></script>

  <style>
    :root{ --line:rgba(255,255,255,.08); --muted:#a8b3c7; --muted2:#b9c5d8 }
    header{ padding:32px 16px 18px; text-align:center }
    h1{ margin:0 0 8px; font-size:clamp(26px,4.8vw,40px) }
    .lead{ margin:0; color:var(--muted) }
    main{ max-width:1060px; margin:26px auto 80px; padding:0 16px }
    .card{
      background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
      border:1px solid var(--line); border-radius:20px; padding:22px;
      box-shadow:0 16px 44px -18px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.03);
      margin-bottom:18px;
    }
    h2{ margin:6px 0 12px; font-size:clamp(20px,3.6vw,26px) }
    h3{ margin:18px 0 10px; font-size:clamp(18px,2.8vw,22px) }
    p{ margin:10px 0 12px }
    ul{ margin:8px 0 12px 20px } li{ margin:6px 0 }
    .pill{ display:inline-block; padding:4px 10px; border-radius:999px; background:#0f1a28; border:1px solid var(--line); color:var(--muted2); font-size:13px; white-space:nowrap }
    .wrap{ background:rgba(255,255,255,.03); border:1px solid var(--line); border-radius:12px; padding:14px }
    .cols{ display:grid; grid-template-columns:1fr; gap:16px }
    @media (min-width:780px){ .cols{ grid-template-columns:1fr 1fr } }
    .sources li a{ color:#b9c5d8; text-decoration:none } .sources li a:hover{ color:#c7d2e3; text-decoration:underline }
    .back{ margin-top:12px } .back a{ color:#a8c8ff; text-decoration:none } .back a:hover{ text-decoration:underline }
    footer{ text-align:center; opacity:.55; padding:6px 16px 36px; font-size:14px }

    /* „przezroczyste” 3D chipy na <details> (bez JS) */
    .chips{ display:flex; flex-wrap:wrap; gap:10px; margin:10px 0 6px }
    details.pop{
      position:relative; border-radius:12px; border:1px solid var(--line);
      background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
      box-shadow:0 10px 24px rgba(0,0,0,.25), inset 0 0 0 1px rgba(255,255,255,.03);
      padding:8px 12px; cursor:pointer; transition:.15s ease;
    }
    details.pop:hover{ filter:brightness(1.04) }
    details.pop summary{ list-style:none; outline:none }
    details.pop summary::-webkit-details-marker{ display:none }
details.pop .popover{
  position:absolute; left:0; top:calc(100% + 8px); min-width:260px; max-width:320px;
  border-radius:12px; 
  border:1px solid rgba(255,255,255,.14);
  background:linear-gradient(180deg, rgba(64,110,84,.98), rgba(38,79,60,.98)); /* ciepło-zielone tło */
  color:#f3fff6; /* jaśniejszy tekst dla kontrastu */
  box-shadow:0 18px 42px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.06);
  padding:12px 14px; font-size:13px; z-index:5;
}

    details.pop[open] .popover{ animation:pop .12s ease-out }
    @keyframes pop{ from{ transform:translateY(-4px); opacity:0 } to{ transform:none; opacity:1 } }
    .small{ font-size:12px; opacity:.95; line-height:1.45 }
    .mb0{ margin-bottom:0 }
  </style>
</head>
<body>
  <header>
    <h1>Twój cholesterol i cały lipidogram — praktyczny przewodnik</h1>
    <p class="lead">Poniżej dostajesz esencję tego, jak czytać wyniki, co naprawdę je poprawia i jak wdrożyć zmiany w 5 krokach. Oparte na zgodnych wytycznych (ESC/EAS, ACC/AHA), stanowiskach AHA/WHO oraz przeglądach EFSA i pracach przeglądowych o „remnant cholesterol” (np. <span class="pill">PMC</span>).</p>
  </header>

  <main>
    <article class="card">
      <section>
        <h2>Twój lipidogram bez żargonu</h2>
        <ul>
          <li><strong>LDL-C</strong> — „zły” cholesterol (główny sprawca miażdżycy). Im niżej, tym lepiej. Dla przeciętnej, zdrowej osoby orientacyjnie: dobrze &lt;<strong>100 mg/dl</strong>, do poprawy <strong>100–159</strong>, źle <strong>≥160</strong>. Ostateczne cele ustala lekarz po ocenie ryzyka. <span class="pill">ESC/EAS</span></li>
          <li><strong>HDL-C</strong> — „dobry” cholesterol. Za niskie: &lt;<strong>40</strong> mg/dl mężczyźni, &lt;<strong>50</strong> mg/dl kobiety. Nie „gonimy” tabletkami za wysokim HDL — liczy się cały profil. <span class="pill">ACC</span></li>
          <li><strong>TG</strong> (triglicerydy) — tłuszcze krążące we krwi. Dobrze &lt;<strong>150</strong> mg/dl, do poprawy <strong>150–499</strong>, bardzo źle <strong>≥500</strong> (ryzyko ostrego zapalenia trzustki). <span class="pill">ACC</span></li>
          <li><strong>Cholesterol całkowity</strong> — traktuj pomocniczo; ważniejsze są LDL-C i wskaźniki poniżej. <span class="pill">ESC/EAS</span></li>
        </ul>

        <h3>Wskaźniki do policzenia samemu</h3>
        <ul>
          <li><strong>non-HDL-C = Cholesterol całkowity − HDL-C.</strong> Obejmuje wszystkie „złe” cząstki (LDL + resztki). Orientacyjnie: dobrze &lt;<strong>130</strong>, do poprawy <strong>130–159</strong>, źle <strong>≥160</strong>. (Wytyczne: próg non-HDL jest ~30 mg/dl wyższy niż odpowiadający mu cel LDL). <span class="pill">ScienceDirect</span></li>
          <li><strong>Remnant-C (cholesterol resztkowy) = Cholesterol całkowity − LDL-C − HDL-C</strong> (albo non-HDL − LDL). Im wyżej, tym gorzej; &gt;<strong>20–25</strong> mg/dl często sygnalizuje „ryzyko resztkowe”. <span class="pill">PMC</span></li>
          <li><strong>RC (residual cholesterol):</strong> używany podobnie do Remnant-C; podwyższony sugeruje nadmiar cząstek resztkowych nawet przy „przyzwoitym” LDL. <span class="pill">PMC</span></li>
          <li><strong>Wskaźnik TG/HDL:</strong> praktyczna wskazówka insulinooporności; wyższe wartości idą w parze z gorszym ryzykiem kardiometabolicznym (interpretuj łącznie z TG, HDL i kontekstem klinicznym). <span class="pill">PMC</span></li>
        </ul>
      </section>

      <section class="wrap">
        <h2>Dlaczego to ma znaczenie</h2>
        <p>To nie tylko korelacja: LDL-C <em>powoduje</em> miażdżycę — potwierdzają to genetyka, obserwacje i setki badań klinicznych. Redukcja LDL obniża ryzyko zawału/udaru; długotrwała ekspozycja na wysokie LDL kumuluje ryzyko. Resztki (Remnant-C) dokładają swoje nawet przy „przyzwoitym” LDL. <span class="pill">PMC</span></p>
      </section>

      <section>
        <h2>Co najbardziej działa — prosto i skutecznie</h2>

        <h3>1) Jedzenie: zmieniaj <em>rodzaj</em> tłuszczu, nie tylko „ilość”</h3>

   <div class="chips">
  <!-- SFA -->
  <details class="pop">
    <summary>Tłuszcze nasycone</summary>
    <div class="popover">
      <div class="small">
        <strong>SFA</strong> najwięcej: tłuste czerwone mięsa, sery pełnotłuste, masło/śmietana, tłuszcze palmowy/kokosowy.
        Stawiamy na <em>wymianę</em> SFA, nie dokładanie „superfoods”.
      </div>
    </div>
  </details>

  <!-- separator z tekstem -->
  <span class="chip-sep">
    <span class="arrow">→</span>
    zamień na
    <span class="arrow">→</span>
  </span>

  <!-- UFA -->
  <details class="pop">
    <summary>Tłuszcze nienasycone</summary>
    <div class="popover">
      <div class="small">
        <strong>MUFA</strong> (oliwa, rzepak, wysokooleinowe, orzechy) oraz <strong>PUFA</strong> (lniany/sojowy/słonecznikowy,
        orzechy włoskie, tłuste ryby). Wymiana SFA → MUFA/PUFA obniża LDL i ryzyko sercowo-naczyniowe.
      </div>
    </div>
  </details>

  <!-- Canola -->
  <details class="pop">
    <summary>Olej rzepakowy (MUFA)</summary>
    <div class="popover">
      <div class="small">
        W skrócie: tezy, że „oleje z nasion powodują stany zapalne”, nie mają potwierdzenia w solidnych przeglądach
        i zaleceniach — zamiana SFA na nienasycone (rzepak/oliwa/soja) obniża LDL i ryzyko CVD; sama wyższa podaż
        omega-6 nie podnosi markerów zapalenia. <span class="pill">AHA</span> <span class="pill">ACC</span><br><br>
        UE odnowiła dopuszczenie glifosatu do 15-12-2033 z zakazem desykacji; monitoring FAO/WHO mieści się
        w limitach. Związek jest polarny i zostaje głównie w śrucie; badań nie wykazywał go w oleju tłoczonym na zimno.
        Historyczny kwas erukowy dotyczył starych odmian; obecne niskoerukowe spełniają rygorystyczne normy.
        <span class="pill">EC</span> <span class="pill">FAO/WHO</span> <span class="pill">PMC</span> <span class="pill">EFSA</span>
      </div>
    </div>
  </details>
</div>

        <p class="mb0"><strong>Na co stawiać (codzienny wzorzec):</strong></p>
        <ul>
          <li>Oliwa z oliwek, olej rzepakowy (przewaga MUFA); oleje lniany/sojowy/słonecznikowy (PUFA) w rozsądnym użyciu kulinarnym.</li>
          <li>Orzechy i pestki (migdały, włoskie, siemię lniane, sezam) zamiast słodyczy i słonych przekąsek.</li>
          <li>Ryby <strong>2×/tydz.</strong> (łosoś, makrela, śledź, sardynki).</li>
          <li>Dużo warzyw/strączków/pełnych zbóż — wzorzec śródziemnomorski, minimalnie przetworzony.</li>
          <li>Ogranicz: tłuste wędliny, sery pełnotłuste/masło, ultra-przetworzone słodycze i rafinowane węgle.</li>
        </ul>

        <p class="wrap"><strong>5.1 Badania:</strong> (np. Mensink RP, <em>Am J Clin Nutr</em> 2016) — zamiana <strong>5% energii z SFA</strong> na nienasycone obniża <strong>LDL o ≈10%</strong>, bez szkody dla HDL. <span class="pill">AHA</span></p>

        <h3>2) Błonnik rozpuszczalny — codziennie, z konkretnych źródeł</h3>
        <ul>
          <li>≈<strong>3 g/d</strong> β-glukanu z owsa/jęczmienia daje ~5–7% spadku LDL. Psyllium 5–10 g/d podobnie. <span class="pill">EFSA</span> <span class="pill">PMC</span></li>
          <li>Najlepsze źródła: płatki/otręby owsiane, jęczmień, łuski babki jajowatej, rośliny strączkowe.</li>
        </ul>

        <h3>3) Fitosterole — naturalnie + produkty wzbogacane</h3>
        <ul>
          <li><strong>1,5–2,4 g/d</strong> obniża LDL ~7–10%. Bogate: oleje roślinne (sezam/otręby ryżowe/kukurydza/rzepak), sezam, słonecznik, kiełki pszenicy; produkty wzbogacane pomagają „dowieźć” 2 g/d. <span class="pill">EFSA</span> <span class="pill">NCBI</span></li>
        </ul>

        <h3>4) Ruch „na zegarek”</h3>
        <ul>
          <li><strong>150–300 min/tydz.</strong> umiarkowanego lub <strong>75–150 min</strong> intensywnego + <strong>2×</strong> siła: TG ↓, HDL ↑, czasem LDL ↓; najważniejsza jest regularność. <span class="pill">WHO</span></li>
        </ul>

        <h3>5) Kilka prostych nawyków o dużym wpływie</h3>
        <ul>
          <li>Masa ciała ↓ (jeśli nadmiar): najsilniej obniża TG i non-HDL-C. <span class="pill">ACC</span></li>
          <li>Alkohol i cukry proste ↓: najszybszy sposób na spadek TG. <span class="pill">ACC</span></li>
          <li>Rzuć palenie: HDL w górę, ryzyko całkowite w dół. <span class="pill">AHA</span></li>
          <li>Wyklucz przyczyny wtórne (np. niedoczynność tarczycy, niektóre leki). <span class="pill">ESC/EAS</span></li>
        </ul>
      </section>

      <section class="wrap">
        <h2>Jak to zastosować — mini-procedura w 5 krokach</h2>
        <ol>
          <li>Spisz cztery liczby: <strong>Cholesterol całkowity, LDL-C, HDL-C, TG</strong>.</li>
          <li>Policz: <strong>non-HDL-C = Cholesterol całkowity − HDL-C</strong>; <strong>Remnant-C = Cholesterol całkowity − LDL-C − HDL-C</strong>.</li>
          <li>Ocena „światełkami” (osoba bez rozpoznanego wysokiego ryzyka): LDL-C &lt;100 dobrze, 100–159 do poprawy, ≥160 źle; non-HDL-C &lt;130 dobrze, 130–159 do poprawy, ≥160 źle; TG &lt;150 dobrze, 150–499 do poprawy, ≥500 bardzo źle; HDL-C za niskie &lt;40 (M) / &lt;50 (K). <span class="pill">ESC/EAS</span> <span class="pill">ACC</span></li>
          <li>Wdroż: wzorzec śródziemnomorski + zamiana SFA → UFA (MUFA/PUFA) + błonnik codziennie + aktywność wg WHO + ograniczenie alkoholu/cukru.</li>
          <li>Kontrola po 6–12 tyg. Jeśli nie „zielono”: porozmawiaj z lekarzem o kolejnych krokach (np. ezetymib/statyny/PCSK9 wg ryzyka).</li>
        </ol>
      </section>

      <section>
        <h2>Źródła i dalej czytaj</h2>
        <ul class="sources">
          <li><a href="https://www.portailvasculaire.fr/" target="_blank" rel="noopener">ESC/EAS 2019 — dyslipidemie (cele LDL/non-HDL/ApoB; pobrania niefasting)</a></li>
          <li><a href="https://www.ahajournals.org/" target="_blank" rel="noopener">AHA — tłuszcze w diecie i wzorce żywienia</a></li>
          <li><a href="https://professional.heart.org/" target="_blank" rel="noopener">AHA — rzucanie palenia a ryzyko CVD</a></li>
          <li><a href="https://www.acc.org/" target="_blank" rel="noopener">ACC/AHA — triglicerydy: progi i postępowanie</a></li>
          <li><a href="https://www.who.int/" target="_blank" rel="noopener">WHO — zalecenia aktywności fizycznej dla dorosłych</a></li>
          <li><a href="https://www.efsa.europa.eu/" target="_blank" rel="noopener">EFSA — β-glukan/psyllium i fitosterole</a></li>
          <li><a href="https://pubmed.ncbi.nlm.nih.gov/" target="_blank" rel="noopener">PMC — remnant cholesterol & ryzyko kardiometaboliczne</a></li>
        </ul>
        <p class="back">← <a href="/pl/zdrowie.html">Wróć do Zdrowia</a></p>
      </section>
      <div id="br-comments"></div>
</article>
  </main>

  <footer>© BriefRooms</footer>
  <!-- ========== BriefRooms: Comments (no-backend) ========== -->
<style>
  .brc{--bg:#0c1626;--panel:#0f1b2b;--panel2:#0d1726;--line:rgba(255,255,255,.08);
       --txt:#e8eef7;--muted:#a9b6c9;--focus:#86b7ff;--accent:#9ccf9f}
  .brc{max-width:860px;margin:28px auto 48px;padding:0 16px;color:var(--txt)}
  .brc .card{background:linear-gradient(180deg,var(--panel),var(--panel2));
    border:1px solid var(--line);border-radius:18px;padding:18px 18px 6px;
    box-shadow:inset 0 1px 0 rgba(255,255,255,.04),0 16px 40px rgba(0,0,0,.28)}
  .brc h2{margin:2px 0 12px;font-size:clamp(18px,2.6vw,22px)}
  .brc .sub{margin:0 0 14px;color:var(--muted);font-size:14px}
  .brc .row{display:flex;gap:12px;flex-wrap:wrap;margin:0 0 8px}
  .brc input[type="text"], .brc textarea{
    width:100%;background:#0b1523;color:var(--txt);border:1px solid var(--line);
    border-radius:12px;padding:10px 12px;font:inherit;line-height:1.4}
  .brc input[type="text"]{max-width:260px}
  .brc textarea{min-height:96px;resize:vertical}
  .brc input:focus,.brc textarea:focus{outline:3px solid var(--focus);outline-offset:2px}
  .brc .meta{display:flex;justify-content:space-between;align-items:center;margin:6px 0 10px}
  .brc .count{font-size:12px;color:var(--muted)}
  .brc .btn{background:linear-gradient(180deg,#1a2d45,#16263a);color:var(--txt);
    border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:10px 14px;
    cursor:pointer;box-shadow:0 8px 18px rgba(0,0,0,.25);transition:transform .08s}
  .brc .btn:disabled{opacity:.6;cursor:not-allowed}
  .brc .btn:hover:not(:disabled){transform:translateY(-1px)}
  .brc .list{margin:10px 0 8px;padding:0;list-style:none}
  .brc .item{position:relative;padding:14px;border:1px solid var(--line);
    border-radius:14px;background:rgba(255,255,255,.03);margin:10px 0}
  .brc .nick{font-weight:600}
  .brc .time{color:var(--muted);font-size:12px;margin-left:8px}
  .brc .text{white-space:pre-wrap;margin:8px 0 2px}
  .brc .actions{display:flex;gap:10px;justify-content:flex-end}
  .brc .link{color:#a8c8ff;text-decoration:none}
  .brc .link:hover{text-decoration:underline}
  .brc .chip{display:inline-block;border:1px solid var(--line);border-radius:999px;
    padding:4px 8px;background:rgba(255,255,255,.04);color:var(--muted);font-size:12px}
  .brc .empty{color:var(--muted);text-align:center;border:1px dashed var(--line);
    border-radius:12px;padding:14px;margin:10px 0 16px}
  .brc .badge{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:10px;
    background:rgba(156,207,159,.12);border:1px solid rgba(156,207,159,.3);color:#dff5e0;font-size:12px}
  @media (max-width:560px){
    .brc input[type="text"]{max-width:none}
    .brc .meta{flex-direction:column;align-items:flex-start;gap:8px}
  }
</style>

<div class="brc" role="region" aria-labelledby="brc-title">
  <div class="card">
    <h2 id="brc-title">Komentarze</h2>
    <p class="sub">Pisz jako <span id="brc-current-nick" class="badge">Gość</span>.
      Możesz zmienić nick, zanim dodasz komentarz.</p>

    <div class="row" aria-label="formularz komentarza">
      <input id="brc-nick" type="text" placeholder="Twój nick (np. Gość #1234)" maxlength="32" aria-label="Nick">
      <textarea id="brc-text" placeholder="Napisz komentarz…" maxlength="1200" aria-label="Treść komentarza"></textarea>
      <div class="meta">
        <span class="count"><span id="brc-chars">0</span>/1200</span>
        <button id="brc-send" class="btn" type="button" disabled>Dodaj komentarz</button>
      </div>
    </div>

    <ul id="brc-list" class="list" aria-live="polite" aria-relevant="additions removals"></ul>
    <div id="brc-empty" class="empty" hidden>Jeszcze nikt nie skomentował. Bądź pierwszy/a!</div>
    <div class="sub"></div>
  </div>
</div>

<script>
(function(){
  const el = (id)=>document.getElementById(id);
  const listEl = el('brc-list');
  const emptyEl= el('brc-empty');
  const sendEl = el('brc-send');
  const textEl = el('brc-text');
  const nickEl = el('brc-nick');
  const charsEl= el('brc-chars');
  const curNick= el('brc-current-nick');

  const KEY_PREFIX = 'brc-comments:';
  const PAGE_KEY   = KEY_PREFIX + location.pathname;
  const NICK_KEY   = 'brc-nick';
  const OWNER_KEY  = 'brc-owner-ids'; // koszyk ID komentarzy dodanych z tej przeglądarki

  // utils
  const nowISO = ()=>new Date().toISOString();
  const fmt = (iso)=>new Date(iso).toLocaleString();
  const rid = ()=>crypto.getRandomValues(new Uint32Array(1))[0].toString(36) + Date.now().toString(36);
  const escapeText = (s)=>s.replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
  const linkify = (text)=>{
    // zwróć fragmenty jako węzły; url -> <a>
    const frag = document.createDocumentFragment();
    const parts = text.split(/(https?:\/\/[^\s]+)/g);
    parts.forEach(p=>{
      if(/^https?:\/\//.test(p)){
        const a = document.createElement('a');
        a.href = p; a.textContent = p; a.target="_blank"; a.rel="noopener";
        a.className = 'link'; frag.appendChild(a);
      }else{
        frag.appendChild(document.createTextNode(p));
      }
    });
    return frag;
  };

  const load = ()=>JSON.parse(localStorage.getItem(PAGE_KEY) || '[]');
  const save = (arr)=>localStorage.setItem(PAGE_KEY, JSON.stringify(arr));
  const loadOwner = ()=>new Set(JSON.parse(localStorage.getItem(OWNER_KEY)||'[]'));
  const saveOwner = (set)=>localStorage.setItem(OWNER_KEY, JSON.stringify([...set]));

  // nick startowy
  let nick = localStorage.getItem(NICK_KEY);
  if(!nick){
    nick = 'Gość #' + String(Math.floor(1000 + Math.random()*9000));
    localStorage.setItem(NICK_KEY, nick);
  }
  nickEl.value = nick;
  curNick.textContent = nick;

  // render
  function render(){
    const items = load();
    listEl.innerHTML = '';
    const mine = loadOwner();
    if(items.length === 0){ emptyEl.hidden = false; return; }
    emptyEl.hidden = true;

    items.forEach(item=>{
      const li = document.createElement('li');
      li.className = 'item';
      li.setAttribute('data-id', item.id);

      const head = document.createElement('div');
      const nickSpan = document.createElement('span');
      nickSpan.className = 'nick';
      nickSpan.textContent = item.nick;
      const timeSpan = document.createElement('span');
      timeSpan.className = 'time';
      timeSpan.textContent = '• ' + fmt(item.time);

      head.appendChild(nickSpan);
      head.appendChild(timeSpan);
      li.appendChild(head);

      const textDiv = document.createElement('div');
      textDiv.className = 'text';
      textDiv.appendChild(linkify(item.text)); // już bezpieczne
      li.appendChild(textDiv);

      const actions = document.createElement('div');
      actions.className = 'actions';
      if(mine.has(item.id)){
        const del = document.createElement('button');
        del.className = 'btn';
        del.type='button';
        del.textContent = 'Usuń';
        del.addEventListener('click', ()=>{
          const arr = load().filter(x=>x.id!==item.id);
          save(arr);
          mine.delete(item.id); saveOwner(mine);
          render();
        });
        actions.appendChild(del);
      }else{
        const chip = document.createElement('span');
        chip.className = 'chip';
        chip.textContent = 'Gość';
        actions.appendChild(chip);
      }
      li.appendChild(actions);

      listEl.appendChild(li);
    });
  }

  // form logic
  function validate(){
    const t = textEl.value.trim();
    const n = nickEl.value.trim();
    charsEl.textContent = textEl.value.length;
    sendEl.disabled = (t.length<2 || n.length<2);
  }
  textEl.addEventListener('input', validate);
  nickEl.addEventListener('input', ()=>{
    const n = nickEl.value.trim();
    curNick.textContent = n || 'Gość';
    if(n.length>=2) localStorage.setItem(NICK_KEY, n);
    validate();
  });

  sendEl.addEventListener('click', ()=>{
    const text = textEl.value.trim();
    const nick = (nickEl.value.trim() || 'Gość').slice(0,32);
    if(text.length<2) return;

    const item = { id: rid(), nick, text: escapeText(text), time: nowISO() };
    const arr = load(); arr.push(item); save(arr);

    const mine = loadOwner(); mine.add(item.id); saveOwner(mine);

    textEl.value=''; validate(); render();
    // przewiń do dodanego (opcjonalnie)
    listEl.lastElementChild?.scrollIntoView({behavior:'smooth', block:'nearest'});
  });

  // init
  validate(); render();
})();
</script>
<!-- ========== /BriefRooms: Comments ========== -->

</body>
</html>
