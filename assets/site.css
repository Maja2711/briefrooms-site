/* ================================
   USTAWIENIA OGÓLNE (CIEMNY MOTYW)
   ================================ */

:root{
  --bg1:#0b1420;
  --bg2:#0e1b2b;
  --panel:#112235;
  --panel-2:#0f1e30;
  --txt:#e7eef9;
  --muted:#b9c5d8;
  --stroke:rgba(255,255,255,.08);
  --focus:#86b7ff;
  --head-space:64px; /* odsunięcie treści od góry pod stałe logo (tylko na .home) */

  /* ZMIENNE DLA JASNYCH „POKOJÓW” (ROOMS / ARTYKUŁY) */
  --room-bg:#f6f2ea;            /* tło ecru */
  --room-surface:#ffffff;       /* białe panele */
  --room-surface-soft:#f3ece2;  /* delikatnie ciemniejsze */
  --room-border:rgba(15,23,42,.08);

  --room-text:#111827;          /* prawie czarny tekst */
  --room-heading:#0f172a;       /* nagłówki */
  --room-muted:#4b5563;         /* opisy, meta */

  --room-link:#2563eb;
  --room-link-hover:#1d4ed8;
}

/* RESET + BAZA */

*{ box-sizing:border-box }
html,body{ margin:0 }

body{
  min-height:100vh;
  color:var(--txt);
  background:linear-gradient(#0a1626,#08111d);
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  padding-top:0; /* domyślnie brak odsunięcia */
}

/* Tylko strona główna (z klasą .home) ma odsunięcie pod logo */
body.home{ padding-top:var(--head-space); }

a{
  color:var(--muted);
  text-decoration:none;
}
a:hover{ text-decoration:underline }

a:focus-visible,
button:focus-visible{
  outline:3px solid var(--focus);
  outline-offset:2px;
  border-radius:8px;
}

header,main,footer{
  max-width:980px;
  margin:0 auto;
  padding:0 16px;
}
header{ padding:28px 16px 8px }

h1{
  margin:6px 0 4px;
  font-size:clamp(22px,4.2vw,34px);
}

.sub{
  margin:0 0 16px;
  color:var(--muted);
}

/* ==========================
   KAFELKI / TILES (w hubach)
   ========================== */

.tiles{
  list-style:none;
  margin:18px 0 28px;
  padding:0;
  display:grid;
  gap:14px;
  grid-template-columns:1fr;
}
@media (min-width:760px){
  .tiles{ grid-template-columns:1fr 1fr }
}

.tile{
  border:1px solid var(--stroke);
  border-radius:12px;
  background:rgba(255,255,255,.04);
  box-shadow:0 10px 24px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.05);
  transform:translateY(0);
  transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.tile:hover{
  transform:translateY(-2px);
  background:rgba(255,255,255,.05);
}
.tile-link{
  display:block;
  padding:16px 18px;
  color:inherit;
  text-decoration:none;
}
.tile-title{
  display:block;
  font-weight:700;
  font-size:1.05rem;
  margin-bottom:6px;
}
.tile-desc{
  display:block;
  color:var(--muted);
  font-size:.95rem;
}

/* ====================
   NAPROWADZACZ W DÓŁ
   ==================== */

.back{
  margin:10px 0 28px;
  color:var(--muted);
}
.back a{
  color:#a8c8ff;
  text-decoration:none;
}
.back a:hover{ text-decoration:underline }

/* ========================
   KARTY / PANELE (artykuły)
   ======================== */

.card{
  background:linear-gradient(180deg,var(--panel),var(--panel-2));
  border:1px solid rgba(255,255,255,.06);
  border-radius:16px;
  padding:18px 20px;
  margin:14px 0;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.04), 0 10px 30px rgba(0,0,0,.25);
}

.cols{
  display:grid;
  gap:16px;
  grid-template-columns:1fr;
  margin:16px 0;
}
@media (min-width:780px){
  .cols{ grid-template-columns:1fr 1fr }
}

.good{ background:linear-gradient(180deg,#12341f,#0f2a1a) }
.bad{  background:linear-gradient(180deg,#2e1616,#241111) }

/* =======================
   PRZYCISKI GŁOSOWANIA
   ======================= */

.rate-row{
  display:flex;
  gap:10px;
  margin-bottom:8px;
}
.btn{
  padding:10px 14px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.1);
  background:linear-gradient(180deg,#1a2b42,#152336);
  color:var(--txt);
  cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,.25);
}

/* ============================
   GLOBALNY BADGE LOGO (u góry)
   ============================ */

/* Domyślnie logo WYŁĄCZONE wszędzie */
.site-head{
  display:none;
  position:fixed;
  top:12px;
  left:16px;
  z-index:1000;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  border-radius:10px;
  background:rgba(10,22,38,.38);
  backdrop-filter:blur(6px);
  color:var(--txt);
  text-decoration:none;
  box-shadow:0 4px 14px rgba(0,0,0,.25);
}
.site-head:hover{
  filter:brightness(1.06);
  text-decoration:none;
}
.site-head:focus-visible{
  outline:3px solid var(--focus);
  outline-offset:3px;
  border-radius:12px;
}
.site-head .logo{
  height:20px;
  margin:0;
  vertical-align:middle;
}
.site-head .brand{
  font-weight:700;
  opacity:.95;
}

/* Pokaż logo TYLKO na stronie głównej (body.home) */
body.home .site-head{ display:inline-flex; }

/* Home: ukryj każdy bezpośredni <a> w <body> poza .site-head i .contact-fab */
body.home > a:not(.site-head):not(.contact-fab){
  display:none !important;
}

/* ===========================
   VOTE BUTTONS — clean + equal
   =========================== */

.rate-box{
  display:flex;
  gap:10px;
  align-items:center;
  margin:16px auto 32px;
  padding:0 16px;
}
.rate-btn{
  appearance:none;
  -webkit-appearance:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:10px 14px;
  min-width:120px;
  height:42px; /* ta sama szer./wys. */
  border-radius:12px;
  border:1px solid rgba(255,255,255,.12);
  background:#0e1827;
  color:#e9eef5;
  line-height:1;
  cursor:pointer;
  transition:transform .15s ease, background .15s ease;
}
.rate-btn:hover{
  background:#162339;
  transform:translateY(-1px);
}
.rate-btn:focus-visible{
  outline:3px solid #86b7ff;
  outline-offset:3px;
  border-radius:14px;
}

/* Ikonka kciuka – stały wymiar i brak „kwadratowego” tła */
.rate-btn .icon{
  width:20px;
  height:20px;
  display:block;
  flex:0 0 20px;
}

/* ==============================
   MOBILE FIRST / RESPONSIVE TWEAKS
   ============================== */

/* 1) Czytelniejsza typografia na małych ekranach */
@media (max-width: 420px){
  html { font-size:15px; }
  body { line-height:1.65; }
  h1 { font-size:clamp(22px,7vw,32px); }
  h2 { font-size:clamp(18px,5.4vw,24px); }
  h3 { font-size:clamp(16px,4.6vw,20px); }
}

/* 2) Marginesy i kolumny – więcej powietrza na telefonach */
@media (max-width: 720px){
  header, main, footer { padding:0 14px; }
  .card { padding:16px 16px; border-radius:14px; }
  .cols { grid-template-columns:1fr; gap:12px; }
  .tiles { grid-template-columns:1fr; gap:12px; }
}

/* 3) Link „powrót” – większy obszar kliku */
.back a{
  padding:6px 4px;
  border-radius:8px;
}
.back a:active{
  background:rgba(255,255,255,.06);
}

/* 4) Listy i akapity – mniej ścisku */
p{ margin:10px 0 12px; }
ul{ margin:8px 0 12px 20px; }
li{ margin:6px 0; }

/* 5) Przyciski głosowania – jednorodna wysokość i siatka w pionie na telefonie */
.rate-box{
  gap:10px;
  flex-wrap:wrap;
}
.rate-btn{
  min-height:44px; /* zalecany rozmiar dotykowy */
  padding:10px 14px;
}
@media (max-width:520px){
  .rate-box{
    flex-direction:column;
    align-items:stretch;
  }
  .rate-btn{ justify-content:center; }
}

/* 6) Kontrast i stany focus dla dostępności klawiaturą */
a:focus-visible,
button:focus-visible{
  outline:3px solid var(--focus);
  outline-offset:3px;
  border-radius:10px;
}

/* 7) Mniejsze cienie na słabszych urządzeniach */
@media (max-width:420px){
  .tile,
  .card{
    box-shadow:0 10px 22px rgba(0,0,0,.28),
               inset 0 1px 0 rgba(255,255,255,.04);
  }
}

/* ====================================
   Zielone „chipsy” i popovery (cholesterol)
   ==================================== */

.chips details.pop{
  background:linear-gradient(180deg,rgba(66,115,90,.24),rgba(66,115,90,.14));
  border-color:rgba(164,224,198,.28);
  box-shadow:0 10px 24px rgba(0,0,0,.25),
             inset 0 0 0 1px rgba(164,224,198,.12);
}
.chips details.pop summary{ color:#e7f5ec; }
.chips details.pop:hover{ filter:brightness(1.06); }

/* Zielone tło popovera (PL/EN) */
details.pop .popover{
  position:absolute;
  left:0;
  top:calc(100% + 8px);
  min-width:260px;
  max-width:320px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background:linear-gradient(180deg,rgba(64,110,84,.98),rgba(38,79,60,.98));
  color:#f3fff6;
  box-shadow:0 18px 42px rgba(0,0,0,.45),
             inset 0 0 0 1px rgba(255,255,255,.06);
  padding:12px 14px;
  font-size:13px;
  z-index:5;
}

/* Separator między „chipami” */
.chips{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:12px;
}
.chip-sep{
  display:flex;
  align-items:center;
  gap:8px;
  font-size:14px;
  opacity:.9;
  user-select:none;
  padding:2px 6px;
  border-radius:8px;
}
.chip-sep .arrow{
  font-size:18px;
  line-height:1;
  opacity:.9;
}
@media (max-width:560px){
  .chips{ gap:10px; }
  .chip-sep{
    width:100%;
    justify-content:center;
    margin:2px 0;
  }
}

/* =======================
   STOPKA + KONTAKT (FAB)
   ======================= */

.site-footer{
  margin-top:48px;
  border-top:1px solid rgba(255,255,255,.08);
  background:rgba(7,14,24,.85);
  backdrop-filter:blur(6px);
}
.footer-wrap{
  max-width:1100px;
  margin:0 auto;
  padding:18px 16px;
  display:flex;
  align-items:center;
  gap:14px;
  flex-wrap:wrap;
}
.footer-link{
  display:inline-flex;
  align-items:center;
  gap:10px;
  color:#cfe3ff;
  text-decoration:none;
  font-weight:500;
}
.footer-link:hover{
  color:#ffffff;
  text-decoration:underline;
}
.footer-dot{
  opacity:.45;
  margin:0 4px;
}
.ico-mail{
  width:18px;
  height:18px;
  fill:currentColor;
  opacity:.9;
}
@media (prefers-color-scheme:light){
  .site-footer{ background:#0e1a2b; }
  .footer-link{ color:#0e84ff; }
}

/* Tymczasowo chowamy dużą sekcję kontaktu, jeśli była na stronie */
#contact,
.contact-hero{
  display:none !important;
}

/* Mały pływający przycisk kontaktu w prawym dolnym rogu */
.contact-fab{
  position:fixed;
  right:22px;
  bottom:22px;
  width:52px;
  height:52px;
  border-radius:9999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.18);
  box-shadow:0 6px 24px rgba(0,0,0,.35);
  backdrop-filter:blur(6px);
  -webkit-backdrop-filter:blur(6px);
  z-index:9999;
  transition:transform .15s ease,
             background .2s ease,
             border-color .2s ease;
}
.contact-fab:hover{
  transform:translateY(-2px) scale(1.03);
  background:rgba(255,255,255,0.14);
  border-color:rgba(255,255,255,0.30);
}
.contact-fab svg{
  width:24px;
  height:24px;
  fill:#d6e5ff;
  opacity:.95;
}
@media (max-width:640px){
  .contact-fab{
    right:14px;
    bottom:14px;
    width:48px;
    height:48px;
  }
}

/* Tekst tylko dla czytników ekranu (dostępność) */
.sr-only{
  position:absolute !important;
  height:1px;
  width:1px;
  overflow:hidden;
  clip:rect(1px,1px,1px,1px);
  white-space:nowrap;
  border:0;
  padding:0;
  margin:-1px;
}

/* Nigdy nie ukrywaj FAB-a (fix) */
body > a.contact-fab{
  display:inline-flex !important;
}
body.home > a.contact-fab{
  display:inline-flex !important;
}
.contact-fab{ z-index:10000; }

/* ===========================
   ToC (Spis treści) w kartach
   =========================== */

:root{
  --toc-accent:#22c55e;
  --toc-accent-2:#86efac;
  --toc-bg:rgba(34,197,94,.08);
}

.card .toc{
  list-style:none;
  margin:12px 0 0;
  padding:0;
  counter-reset:toc;
  display:grid;
  gap:10px;
}
.card .toc li{
  position:relative;
  border:1px solid rgba(255,255,255,.08);
  border-radius:14px;
  background:rgba(255,255,255,.03);
  box-shadow:0 2px 12px rgba(0,0,0,.12);
  transition:transform .2s ease,
             box-shadow .2s ease,
             border-color .2s ease,
             background-color .2s ease;
}
.card .toc li a{
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 14px;
  text-decoration:none;
  color:#e6f6ee;
  font-weight:600;
  line-height:1.25;
}
.card .toc li::before{
  counter-increment:toc;
  content:counter(toc);
  flex:0 0 28px;
  height:28px;
  display:grid;
  place-items:center;
  border-radius:8px;
  background:linear-gradient(135deg,var(--toc-accent-2),#c7f9cc);
  color:#064e3b;
  font-weight:800;
  font-variant-numeric:tabular-nums;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.6),
             0 1px 6px rgba(0,0,0,.12);
}
.card .toc li a span{
  font-weight:600;
}
.card .toc li a::after{
  content:"›";
  margin-left:auto;
  font-size:18px;
  opacity:.45;
  transition:transform .2s ease, opacity .2s ease;
}
.card .toc li:hover{
  border-color:var(--toc-accent);
  background:var(--toc-bg);
  transform:translateY(-1px);
  box-shadow:0 8px 22px rgba(34,197,94,.12);
}
.card .toc li:hover a::after{
  transform:translateX(2px);
  opacity:.8;
}
.card .toc li a:focus-visible{
  outline:3px solid var(--toc-accent);
  outline-offset:4px;
  border-radius:10px;
}
@media (max-width:640px){
  .card .toc li a{ padding:12px; }
  .card .toc li::before{
    flex-basis:26px;
    height:26px;
  }
}

/* =========================
   HEALTH TILES (hub zdrowie)
   ========================= */

.health-grid{
  display:grid;
  gap:18px;
}
@media (min-width:720px){
  .health-grid{
    grid-template-columns:repeat(2,minmax(0,1fr));
  }
}

.topic-card{
  position:relative;
  display:block;
  text-decoration:none;
  color:#e7eef9;
  padding:18px 20px 22px;
  min-height:260px;
  border-radius:16px;
  background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.08);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.04),
             0 10px 30px rgba(0,0,0,.25);
  transition:transform .18s ease,
             box-shadow .18s ease,
             background .18s ease;
}
.topic-card:hover{
  transform:translateY(-2px);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.06),
             0 16px 34px rgba(0,0,0,.28);
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.03));
}
.topic-card h3{
  margin:0 0 8px;
  font-size:1.25rem;
  line-height:1.35;
  color:#eef4f8;
  letter-spacing:.1px;
}
.topic-card .tags{
  margin:0 0 10px;
  font-size:.92rem;
  color:#9fc1ff;
}
.topic-card .blurb{
  margin:0;
  max-width:50ch;
  color:#d6e1e8;
  line-height:1.55;
}

/* „New” badge */
.badge-new{
  position:absolute;
  top:14px;
  left:14px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  height:28px;
  padding:0 12px;
  border-radius:9999px;
  font-weight:700;
  font-size:.85rem;
  letter-spacing:.2px;
  background:rgba(134,197,255,.18);
  border:1px solid rgba(134,197,255,.35);
  color:#d7e6ff;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.25),
             0 6px 18px rgba(0,0,0,.22);
}

/* wyrównana kolumna tematów (np. cholesterol + inne) */
.topic-stack{
  display:flex;
  flex-direction:column;
  gap:22px;
}

/* =========================================================
   JASNY MOTYW DLA POKOI I ARTYKUŁÓW
   – obowiązuje na wszystkich stronach poza .home
   – spełnia Twoje punkty 2), 3), 4)
   ========================================================= */

body:not(.home){
  background:var(--room-bg);
  color:var(--room-text);
}

/* typografia */

body:not(.home) h1,
body:not(.home) h2,
body:not(.home) h3{
  color:var(--room-heading);
}

body:not(.home) p,
body:not(.home) li{
  color:var(--room-text);
}

body:not(.home) small,
body:not(.home) .sub,
body:not(.home) .lead{
  color:var(--room-muted);
}

/* linki w treści (menu ma własne style) */

body:not(.home) main a{
  color:var(--room-link);
  text-decoration-color:rgba(37,99,235,.35);
}
body:not(.home) main a:hover{
  color:var(--room-link-hover);
  text-decoration-color:var(--room-link-hover);
}

/* główne karty z treścią (news boxy, panele zdrowia, artykuły) */

body:not(.home) .card{
  background:var(--room-surface);
  border-radius:22px;
  border:1px solid var(--room-border);
  box-shadow:0 14px 34px rgba(15,23,42,.08),
             0 1px 0 rgba(255,255,255,.7);
  color:var(--room-text);
}

/* zagnieżdżone karty wewnątrz kart – trochę inne tło */

body:not(.home) .card .card{
  background:var(--room-surface-soft);
}

/* kafelki / topic-cards w hubach (Health / Science / Geo itd.) */

body:not(.home) .tile,
body:not(.home) .topic-card{
  background:linear-gradient(180deg,#ffffff,#f3ece2);
  border-color:var(--room-border);
  box-shadow:0 10px 24px rgba(15,23,42,.08);
  color:var(--room-text);
}

body:not(.home) .tile-title,
body:not(.home) .topic-card h3{
  color:var(--room-heading);
}

body:not(.home) .tile-desc,
body:not(.home) .topic-card .blurb{
  color:var(--room-text);
}

body:not(.home) .topic-card .tags{
  color:var(--room-muted);
}

/* „pigułki” ESC/EAS, ACC itd. – czytelne na jasnym tle */

body:not(.home) .badge,
body:not(.home) .pill,
body:not(.home) .meta-pill{
  background:var(--room-accent-soft);
  color:var(--room-heading);
  border-radius:999px;
}

/* cytaty / callouty w artykułach */

body:not(.home) blockquote{
  background:var(--room-surface-soft);
  border-left:4px solid var(--room-link);
  color:var(--room-text);
}

/* jasna stopka na stronach z treścią */

body:not(.home) .site-footer{
  border-top-color:var(--room-border);
  background:#f0ece4;
}
body:not(.home) .footer-link{
  color:#1f2937;
}
body:not(.home) .footer-link:hover{
  color:#111827;
}
/* ===========================================
   JASNE „POKOJE” – gdy <body class="rooms-light">
   =========================================== */

body.rooms-light{
  background:#f6f2ea !important;  /* ciepłe ecru */
  color:#111827 !important;       /* prawie czarny tekst */
}

/* typografia */

body.rooms-light h1,
body.rooms-light h2,
body.rooms-light h3{
  color:#0f172a !important;       /* nagłówki */
}

body.rooms-light p,
body.rooms-light li,
body.rooms-light .sub,
body.rooms-light .lead,
body.rooms-light small{
  color:#111827 !important;
}

/* linki w treści (menu ma swoje klasy) */

body.rooms-light main a{
  color:#2563eb;
  text-decoration-color:rgba(37,99,235,.35);
}
body.rooms-light main a:hover{
  color:#1d4ed8;
  text-decoration-color:#1d4ed8;
}

/* karty i kafelki (news/zdrowie/geopolityka/nauka) */

body.rooms-light .card,
body.rooms-light .tile,
body.rooms-light .topic-card{
  background:#ffffff !important;
  color:#111827 !important;
  border-radius:20px;
  border:1px solid rgba(15,23,42,.06);
  box-shadow:0 10px 24px rgba(15,23,42,.08);
}

body.rooms-light .tile-title,
body.rooms-light .topic-card h3{
  color:#0f172a !important;
}

body.rooms-light .tile-desc,
body.rooms-light .topic-card .blurb{
  color:#111827 !important;
}

body.rooms-light .topic-card .tags{
  color:#4b5563 !important;
}

/* pigułki ESC/EAS, ACC, itp. */

body.rooms-light .badge,
body.rooms-light .pill,
body.rooms-light .meta-pill{
  background:#e0edff;
  color:#0f172a;
  border-radius:999px;
}

/* cytaty / callouty */

body.rooms-light blockquote{
  background:#f3ece2;
  border-left:4px solid #2563eb;
  color:#111827;
}

/* stopka na jasnych stronach */

body.rooms-light .site-footer{
  border-top-color:rgba(15,23,42,.08);
  background:#f0ece4;
}
body.rooms-light .footer-link{
  color:#1f2937;
}
body.rooms-light .footer-link:hover{
  color:#111827;
}
